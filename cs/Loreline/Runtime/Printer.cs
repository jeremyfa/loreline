// Generated by Haxe 4.3.6
using global::Loreline.Internal.Root;

#pragma warning disable 109, 114, 219, 429, 168, 162, IL2026, IL2070, IL2072, IL2060, CS0108
namespace Loreline.Runtime {
	public class Printer : global::Loreline.Internal.Lang.HxObject {
		
		public Printer(global::Loreline.Internal.Lang.EmptyObject empty) {
		}
		
		
		public Printer(string indent, string newline) {
			global::Loreline.Runtime.Printer.__hx_ctor_loreline_Printer(this, indent, newline);
		}
		
		
		protected static void __hx_ctor_loreline_Printer(global::Loreline.Runtime.Printer __hx_this, string indent, string newline) {
			unchecked {
				__hx_this.enableComments = true;
				{
					if (( newline == null )) {
						newline = "\n";
					}
					
					if (( indent == null )) {
						indent = "  ";
					}
					
					__hx_this._indent = indent;
					__hx_this._newline = newline;
					__hx_this._beginLine = 0;
					__hx_this._lastChar = -1;
					{
						__hx_this._noLn = 0;
						__hx_this._level = 0;
						__hx_this._prevLevel = 0;
						__hx_this._numEmptyLines = 0;
						__hx_this._buf = new global::Loreline.Internal.Root.StringBuf();
					}
					
				}
				
			}
		}
		
		
		public int _level;
		
		public int _prevLevel;
		
		public global::Loreline.Internal.Root.StringBuf _buf;
		
		public int _beginLine;
		
		public int _lastChar;
		
		public int _lastVisibleChar;
		
		public int _noLn;
		
		public int _numEmptyLines;
		
		public string _indent;
		
		public string _newline;
		
		public bool enableComments;
		
		public void clear() {
			this._noLn = 0;
			this._level = 0;
			this._prevLevel = 0;
			this._numEmptyLines = 0;
			this._buf = new global::Loreline.Internal.Root.StringBuf();
		}
		
		
		public void indent() {
			this._level++;
		}
		
		
		public void unindent() {
			this._level--;
		}
		
		
		public virtual global::Loreline.Runtime.Printer write(string s) {
			unchecked {
				if (( s.Length > 0 )) {
					if (( this._beginLine > 0 )) {
						this.tab();
						this._beginLine = 0;
					}
					
					this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(((string) (s) ))) ));
					this._lastChar = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(s, ( s.Length - 1 )))) );
					int i = ( s.Length - 1 );
					while (( i >= 0 )) {
						object c = global::Loreline.Internal.Lang.StringExt.charCodeAt(s, i);
						if (( ( ( ( ! (global::Loreline.Internal.Lang.Runtime.eq(c, 32)) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(c, 10)) ) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(c, 13)) ) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(c, 9)) ) )) {
							this._lastVisibleChar = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) );
							break;
						}
						
						 -- i;
					}
					
				}
				
				return this;
			}
		}
		
		
		public virtual global::Loreline.Runtime.Printer _writeln(string s) {
			if (( s == null )) {
				s = "";
			}
			
			this.write(s);
			return this.newline();
		}
		
		
		public virtual global::Loreline.Runtime.Printer newline() {
			unchecked {
				if (( ( this._beginLine < 2 ) && ( this._noLn == 0 ) )) {
					if (( this._beginLine == 1 )) {
						this._numEmptyLines++;
					}
					
					this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(this._newline)) ));
					this._beginLine++;
				}
				
				return this;
			}
		}
		
		
		public virtual global::Loreline.Runtime.Printer tab() {
			{
				int _g = 0;
				int _g1 = this._level;
				while (( _g < _g1 )) {
					int _ = _g++;
					this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(this._indent)) ));
				}
				
			}
			
			return this;
		}
		
		
		public virtual global::Loreline.Runtime.Printer _line(string s) {
			this.tab();
			this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(((string) (s) ))) ));
			return this.newline();
		}
		
		
		public virtual string toString() {
			return this._buf.b.ToString();
		}
		
		
		public virtual string printStringLiteralAsReference(global::Loreline.Runtime.NStringLiteral str) {
			unchecked {
				bool saved = this.enableComments;
				this.enableComments = false;
				{
					this._noLn = 0;
					this._level = 0;
					this._prevLevel = 0;
					this._numEmptyLines = 0;
					this._buf = new global::Loreline.Internal.Root.StringBuf();
				}
				
				this._beginLine = 1;
				this.printStringLiteral(str);
				this.enableComments = saved;
				string result = this.toString().Trim();
				result = global::Loreline.Internal.Lang.StringExt.split(result, "\n").@join("\\n");
				return result;
			}
		}
		
		
		public virtual string printStringLiteralAsText(global::Loreline.Runtime.NStringLiteral str) {
			unchecked {
				bool saved = this.enableComments;
				this.enableComments = false;
				{
					this._noLn = 0;
					this._level = 0;
					this._prevLevel = 0;
					this._numEmptyLines = 0;
					this._buf = new global::Loreline.Internal.Root.StringBuf();
				}
				
				this._beginLine = 1;
				{
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = str.parts;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.NStringPart part = ((global::Loreline.Runtime.NStringPart) (_g1.__get(_g)) );
						 ++ _g;
						{
							global::Loreline.Runtime.StringPartType _g2 = part.partType;
							switch (_g2._hx_index) {
								case 0:
								{
									string text = ( _g2 as global::Loreline.Runtime.StringPartType_Raw ).text;
									if (( str.quotes == ((int) (1) ) )) {
										this.writeQuotedRaw(text);
									}
									else {
										this.writeUnquotedRaw(text);
									}
									
									break;
								}
								
								
								case 1:
								{
									global::Loreline.Runtime.NExpr expr = ( _g2 as global::Loreline.Runtime.StringPartType_Expr ).expr;
									{
										bool canBeSimple = this.isSimpleInterpolationExpr(expr);
										this.write("$");
										if ( ! (canBeSimple) ) {
											this.write("{");
										}
										
										this.printNode(expr, null);
										if ( ! (canBeSimple) ) {
											this.write("}");
										}
										
									}
									
									break;
								}
								
								
								case 2:
								{
									bool closing = ( _g2 as global::Loreline.Runtime.StringPartType_Tag ).closing;
									global::Loreline.Runtime.NStringLiteral content = ( _g2 as global::Loreline.Runtime.StringPartType_Tag ).expr;
									{
										this.write(( (closing) ? ("</") : ("<") ));
										this.printStringLiteral(content);
										this.write(">");
									}
									
									break;
								}
								
								
							}
							
						}
						
					}
					
				}
				
				this.enableComments = saved;
				string result = this.toString().Trim();
				result = global::Loreline.Internal.Lang.StringExt.split(result, "\n").@join("\\n");
				return result;
			}
		}
		
		
		public virtual string print(global::Loreline.Runtime.Node node) {
			unchecked {
				{
					this._noLn = 0;
					this._level = 0;
					this._prevLevel = 0;
					this._numEmptyLines = 0;
					this._buf = new global::Loreline.Internal.Root.StringBuf();
				}
				
				this._beginLine = 1;
				this.printNode(node, null);
				return this.toString();
			}
		}
		
		
		public virtual void printNode(global::Loreline.Runtime.Node node, object sameLine) {
			bool sameLine1 = ( (( sameLine == default(object) )) ? (false) : (global::Loreline.Internal.Lang.Runtime.toBool(sameLine)) );
			if (( node == null )) {
				return;
			}
			
			{
				global::System.Type __temp_switch1 = (global::Loreline.Internal.Root.Type.getClass(((object) (node) )));
				if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NAccess))) {
					this.printAccess(((global::Loreline.Runtime.NAccess) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NArrayAccess))) {
					this.printArrayAccess(((global::Loreline.Runtime.NArrayAccess) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NAssign))) {
					this.printAssignment(((global::Loreline.Runtime.NAssign) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NBeatDecl))) {
					this.printBeatDecl(((global::Loreline.Runtime.NBeatDecl) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NBinary))) {
					this.printBinary(((global::Loreline.Runtime.NBinary) (node) ), null);
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NCall))) {
					this.printCall(((global::Loreline.Runtime.NCall) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NCharacterDecl))) {
					this.printCharacterDecl(((global::Loreline.Runtime.NCharacterDecl) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NChoiceOption))) {
					this.printChoiceOption(((global::Loreline.Runtime.NChoiceOption) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NChoiceStatement))) {
					this.printChoiceStatement(((global::Loreline.Runtime.NChoiceStatement) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NDialogueStatement))) {
					this.printDialogueStatement(((global::Loreline.Runtime.NDialogueStatement) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NFunctionDecl))) {
					this.printFunctionDecl(((global::Loreline.Runtime.NFunctionDecl) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NIfStatement))) {
					this.printIfStatement(((global::Loreline.Runtime.NIfStatement) (node) ), null);
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NImportStatement))) {
					this.printImportStatement(((global::Loreline.Runtime.NImportStatement) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NInsertion))) {
					this.printInsertion(((global::Loreline.Runtime.NInsertion) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NLiteral))) {
					this.printLiteral(((global::Loreline.Runtime.NLiteral) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NStateDecl))) {
					this.printStateDecl(((global::Loreline.Runtime.NStateDecl) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NStringLiteral))) {
					this.printStringLiteral(((global::Loreline.Runtime.NStringLiteral) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NTextStatement))) {
					this.printTextStatement(((global::Loreline.Runtime.NTextStatement) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NTransition))) {
					this.printTransition(((global::Loreline.Runtime.NTransition) (node) ), sameLine1);
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.NUnary))) {
					this.printUnary(((global::Loreline.Runtime.NUnary) (node) ));
				}
				else if (global::Loreline.Internal.Lang.Runtime.refEq(__temp_switch1, typeof(global::Loreline.Runtime.Script))) {
					this.printScript(((global::Loreline.Runtime.Script) (node) ));
				}
				else {
					throw ((global::System.Exception) (global::Loreline.Internal.Exception.thrown(global::Loreline.Internal.Lang.Runtime.concat("Unsupported node type: ", global::Loreline.Internal.Root.Type.getClassName(global::Loreline.Internal.Root.Type.getClass(((object) (node) )))))) );
				}
				
			}
			
		}
		
		
		public virtual void printLeadingComments(global::Loreline.Runtime.AstNode node) {
			if (( this.enableComments && ( node.leadingComments != null ) )) {
				int _g = 0;
				global::Loreline.Internal.Root.Array _g1 = node.leadingComments;
				while (( _g < _g1.length )) {
					global::Loreline.Runtime.Comment comment = ((global::Loreline.Runtime.Comment) (_g1.__get(_g)) );
					 ++ _g;
					if (comment.multiline) {
						this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("/*", comment.content), "*/"));
						this.newline();
					}
					else if (comment.isHash) {
						this.write(global::Loreline.Internal.Lang.Runtime.concat("#", comment.content));
						this.newline();
					}
					else {
						this.write(global::Loreline.Internal.Lang.Runtime.concat("//", comment.content));
						this.newline();
					}
					
				}
				
			}
			
		}
		
		
		public virtual void printHashTrailingComments(global::Loreline.Runtime.AstNode node) {
			unchecked {
				if (( this.enableComments && ( node.trailingComments != null ) )) {
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = node.trailingComments;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.Comment comment = ((global::Loreline.Runtime.Comment) (_g1.__get(_g)) );
						 ++ _g;
						if (comment.isHash) {
							if (( ( this._lastChar != 32 ) && ( this._beginLine == 0 ) )) {
								this.write(" ");
							}
							
							{
								this.write(global::Loreline.Internal.Lang.Runtime.concat("#", comment.content));
								this.newline();
							}
							
						}
						
					}
					
				}
				
			}
		}
		
		
		public virtual void printTrailingComments(global::Loreline.Runtime.AstNode node) {
			unchecked {
				if (( this.enableComments && ( node.trailingComments != null ) )) {
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = node.trailingComments;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.Comment comment = ((global::Loreline.Runtime.Comment) (_g1.__get(_g)) );
						 ++ _g;
						if (( ( this._lastChar != 32 ) && ( this._beginLine == 0 ) )) {
							this.write(" ");
						}
						
						if (comment.multiline) {
							this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("/*", comment.content), "*/ "));
						}
						else if (comment.isHash) {
							this.write(global::Loreline.Internal.Lang.Runtime.concat("#", comment.content));
							this.newline();
						}
						else {
							this.write(global::Loreline.Internal.Lang.Runtime.concat("//", comment.content));
							this.newline();
						}
						
					}
					
				}
				
			}
		}
		
		
		public virtual void printImport(global::Loreline.Runtime.NImportStatement imp) {
			this.printLeadingComments(imp);
			{
				this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("import \"", global::Loreline.Internal.Root.Std.@string(imp.path)), "\""));
				this.newline();
			}
			
			this.printTrailingComments(imp);
		}
		
		
		public virtual void printScript(global::Loreline.Runtime.Script script) {
			int _g = 0;
			global::Loreline.Internal.Root.Array _g1 = script.body;
			while (( _g < _g1.length )) {
				global::Loreline.Runtime.AstNode decl = ((global::Loreline.Runtime.AstNode) (_g1.__get(_g)) );
				 ++ _g;
				this._prevLevel = this._level;
				this.printNode(decl, null);
			}
			
		}
		
		
		public virtual void printStateDecl(global::Loreline.Runtime.NStateDecl state) {
			unchecked {
				this.newline();
				this.newline();
				this.printLeadingComments(state);
				if (state.temporary) {
					this.write("new ");
				}
				
				this.write("state ");
				this.printTrailingComments(state);
				if (( state.style == ((int) (1) ) )) {
					this.write("{");
					this.newline();
				}
				else {
					this.newline();
				}
				
				this._level++;
				bool first = true;
				{
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = state.fields;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.NObjectField field = ((global::Loreline.Runtime.NObjectField) (_g1.__get(_g)) );
						 ++ _g;
						if ( ! (first) ) {
							if (( this._beginLine == 0 )) {
								this.newline();
							}
							
						}
						
						first = false;
						this.printLeadingComments(field);
						this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("", field.name), ": "));
						this.printTrailingComments(field);
						this.printNode(field.@value, null);
					}
					
				}
				
				this.newline();
				this._level--;
				if (( state.style == ((int) (1) ) )) {
					this.write("}");
					this.newline();
				}
				
			}
		}
		
		
		public virtual void printCharacterDecl(global::Loreline.Runtime.NCharacterDecl @char) {
			unchecked {
				this.newline();
				this.newline();
				this.printLeadingComments(@char);
				this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("character ", @char.name), " "));
				this.printTrailingComments(@char);
				if (( @char.style == ((int) (1) ) )) {
					this.write("{");
					this.newline();
				}
				else {
					this.newline();
				}
				
				this._level++;
				{
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = @char.fields;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.NObjectField prop = ((global::Loreline.Runtime.NObjectField) (_g1.__get(_g)) );
						 ++ _g;
						this.printLeadingComments(prop);
						this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("", prop.name), ": "));
						this.printTrailingComments(prop);
						this.printNode(prop.@value, null);
						if (( this._beginLine == 0 )) {
							this.newline();
						}
						
					}
					
				}
				
				this._level--;
				if (( @char.style == ((int) (1) ) )) {
					this.write("}");
					this.newline();
				}
				
			}
		}
		
		
		public virtual void printBeatDecl(global::Loreline.Runtime.NBeatDecl beat) {
			unchecked {
				this.newline();
				this.newline();
				this.printLeadingComments(beat);
				this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("beat ", beat.name), " "));
				this.printTrailingComments(beat);
				if (( beat.style == ((int) (1) ) )) {
					this.write("{");
					this.newline();
				}
				
				this.newline();
				this.newline();
				this._level++;
				{
					int _g = 0;
					int _g1 = beat.body.length;
					while (( _g < _g1 )) {
						int i = _g++;
						this._prevLevel = this._level;
						this.printNode(((global::Loreline.Runtime.AstNode) (beat.body.__get(i)) ), null);
						if (( i < ( beat.body.length - 1 ) )) {
							this.newline();
						}
						
					}
					
				}
				
				this._level--;
				if (( this._beginLine == 0 )) {
					this.newline();
				}
				
				if (( this._lastVisibleChar != 125 )) {
					this.newline();
				}
				
				if (( beat.style == ((int) (1) ) )) {
					this.write("}");
					this.newline();
				}
				
			}
		}
		
		
		public virtual void printFunctionDecl(global::Loreline.Runtime.NFunctionDecl func) {
			this.newline();
			this.newline();
			this.printLeadingComments(func);
			this.write(func.code);
			this.printTrailingComments(func);
		}
		
		
		public virtual void printTextStatement(global::Loreline.Runtime.NTextStatement text) {
			if (( this._level == this._prevLevel )) {
				this.newline();
			}
			
			this.printLeadingComments(text);
			this.printNode(text.content, null);
			this.printTrailingComments(text);
		}
		
		
		public virtual void printDialogueStatement(global::Loreline.Runtime.NDialogueStatement dialogue) {
			if (( this._level == this._prevLevel )) {
				this.newline();
			}
			
			this.printLeadingComments(dialogue);
			if (( ( dialogue.content != null ) && this.hasRealNewlines(dialogue.content) )) {
				this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("", dialogue.character), ":"));
				this.printTrailingComments(dialogue);
				this.newline();
				this._level++;
				this.printNode(dialogue.content, null);
				this._level--;
			}
			else {
				this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("", dialogue.character), ": "));
				this.printTrailingComments(dialogue);
				this.printNode(dialogue.content, null);
			}
			
		}
		
		
		public virtual void printChoiceStatement(global::Loreline.Runtime.NChoiceStatement choice) {
			unchecked {
				this.newline();
				this.newline();
				this.printLeadingComments(choice);
				this.write("choice ");
				this.printTrailingComments(choice);
				if (( choice.style == ((int) (1) ) )) {
					this.write("{");
					this.newline();
				}
				else {
					this.newline();
				}
				
				this._level++;
				if (( choice.options.length > 0 )) {
					this._noLn++;
					{
						int _g = 0;
						global::Loreline.Internal.Root.Array _g1 = choice.options;
						while (( _g < _g1.length )) {
							global::Loreline.Runtime.NChoiceOption option = ((global::Loreline.Runtime.NChoiceOption) (_g1.__get(_g)) );
							 ++ _g;
							this.printNode(option, null);
							this.newline();
						}
						
					}
					
				}
				
				this._level--;
				if (( choice.style == ((int) (1) ) )) {
					this.write("}");
					this.newline();
				}
				
			}
		}
		
		
		public virtual void printImportStatement(global::Loreline.Runtime.NImportStatement imp) {
			this.newline();
			this.newline();
			this.printLeadingComments(imp);
			this.write("import ");
			this.printStringLiteral(imp.path);
			this.printTrailingComments(imp);
		}
		
		
		public virtual void printChoiceOption(global::Loreline.Runtime.NChoiceOption option) {
			unchecked {
				this.newline();
				this.newline();
				this._noLn = 0;
				this.printLeadingComments(option);
				if (( option.insertion != null )) {
					this.printNode(option.insertion, null);
				}
				else {
					this.printNode(option.text, null);
				}
				
				this.printTrailingComments(option);
				if (( option.condition != null )) {
					this.write(" if ");
					this.printInLineExpression(option.condition, ( option.conditionStyle == ((int) (2) ) ));
				}
				
				if (( option.body.length > 0 )) {
					if (( ( ( option.condition == null ) && ( option.body.length == 1 ) ) && ( ((global::Loreline.Runtime.AstNode) (option.body.__get(0)) ) is global::Loreline.Runtime.NTransition ) )) {
						this._prevLevel = this._level;
						this.write(" ");
						this.printNode(((global::Loreline.Runtime.AstNode) (option.body.__get(0)) ), true);
						if (( this._beginLine == 0 )) {
							this.newline();
						}
						
					}
					else {
						if (( option.style == ((int) (1) ) )) {
							this.write(" {");
							this.newline();
						}
						else {
							this.newline();
						}
						
						this._prevLevel = this._level;
						this._level++;
						{
							int _g = 0;
							global::Loreline.Internal.Root.Array _g1 = option.body;
							while (( _g < _g1.length )) {
								global::Loreline.Runtime.AstNode node = ((global::Loreline.Runtime.AstNode) (_g1.__get(_g)) );
								 ++ _g;
								this.printNode(node, null);
								if (( ( this._beginLine == 0 ) && ( node != ((global::Loreline.Runtime.AstNode) (option.body.__get(( option.body.length - 1 ))) ) ) )) {
									this.newline();
								}
								
								this._prevLevel = this._level;
							}
							
						}
						
						this._level--;
						this.newline();
						if (( option.style == ((int) (1) ) )) {
							this.write("}");
							this.newline();
						}
						
					}
					
				}
				else {
					this.newline();
				}
				
			}
		}
		
		
		public virtual void printIfStatement(global::Loreline.Runtime.NIfStatement ifStmt, object isElseIf) {
			unchecked {
				bool isElseIf1 = ( (( isElseIf == default(object) )) ? (false) : (global::Loreline.Internal.Lang.Runtime.toBool(isElseIf)) );
				if (( this._level == this._prevLevel )) {
					this.newline();
				}
				
				this.printLeadingComments(ifStmt);
				this.write("if ");
				this.printInLineExpression(ifStmt.condition, ( ifStmt.conditionStyle == ((int) (2) ) ));
				this.printTrailingComments(ifStmt);
				if (( ifStmt.thenBranch.style == ((int) (1) ) )) {
					this.write(" {");
				}
				
				this.newline();
				this._prevLevel = this._level;
				this._level++;
				int emptyLinesBeforeIf = this._numEmptyLines;
				{
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = ifStmt.thenBranch.body;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.AstNode node = ((global::Loreline.Runtime.AstNode) (_g1.__get(_g)) );
						 ++ _g;
						this.printNode(node, null);
						this.newline();
						this._prevLevel = this._level;
					}
					
				}
				
				this._level--;
				if (( ifStmt.thenBranch.style == ((int) (1) ) )) {
					this.write("}");
				}
				
				if (( ifStmt.elseBranch != null )) {
					if (( ( ifStmt.elseBranch.body.length == 1 ) && ( ((global::Loreline.Runtime.AstNode) (ifStmt.elseBranch.body.__get(0)) ) is global::Loreline.Runtime.NIfStatement ) )) {
						global::Loreline.Runtime.NIfStatement subIf = ((global::Loreline.Runtime.NIfStatement) (((global::Loreline.Runtime.AstNode) (ifStmt.elseBranch.body.__get(0)) )) );
						if (( ( ( this._numEmptyLines - emptyLinesBeforeIf ) > 0 ) || this.needsEmptyLines(subIf) )) {
							this.newline();
						}
						
						this.write("else ");
						this.printIfStatement(((global::Loreline.Runtime.NIfStatement) (((global::Loreline.Runtime.AstNode) (ifStmt.elseBranch.body.__get(0)) )) ), true);
					}
					else {
						if (( ( this._numEmptyLines - emptyLinesBeforeIf ) > 0 )) {
							this.newline();
						}
						
						if (( ifStmt.elseBranch.style == ((int) (1) ) )) {
							this.write("else {");
							this.newline();
						}
						else {
							this.write("else");
							this.newline();
						}
						
						this._prevLevel = this._level;
						this._level++;
						{
							int _g2 = 0;
							global::Loreline.Internal.Root.Array _g3 = ifStmt.elseBranch.body;
							while (( _g2 < _g3.length )) {
								global::Loreline.Runtime.AstNode node1 = ((global::Loreline.Runtime.AstNode) (_g3.__get(_g2)) );
								 ++ _g2;
								this.printNode(node1, null);
								this.newline();
								this._prevLevel = this._level;
							}
							
						}
						
						this._level--;
						if (( ifStmt.elseBranch.style == ((int) (1) ) )) {
							this.write("}");
							this.newline();
						}
						
					}
					
				}
				
			}
		}
		
		
		public virtual bool needsEmptyLines(global::Loreline.Runtime.AstNode node) {
			unchecked {
				global::Loreline.Runtime.Printer printer = new global::Loreline.Runtime.Printer(((string) (this._indent) ), ((string) ("\n") ));
				return ( global::Loreline.Internal.Lang.StringExt.indexOf(printer.print(node), "\n\n", null) != -1 );
			}
		}
		
		
		public virtual void printTransition(global::Loreline.Runtime.NTransition trans, bool sameLine) {
			if ((  ! (sameLine)  && ( this._prevLevel == this._level ) )) {
				this.newline();
			}
			
			this.printLeadingComments(trans);
			this.write(global::Loreline.Internal.Lang.Runtime.concat("-> ", trans.target));
			this.printTrailingComments(trans);
		}
		
		
		public virtual void printInsertion(global::Loreline.Runtime.NInsertion insert) {
			if (( this._prevLevel == this._level )) {
				this.newline();
			}
			
			this.printLeadingComments(insert);
			this.write(global::Loreline.Internal.Lang.Runtime.concat("+ ", insert.target));
			this.printTrailingComments(insert);
		}
		
		
		public virtual void printStringLiteral(global::Loreline.Runtime.NStringLiteral str) {
			unchecked {
				bool surroundWithQuotes = ( str.quotes == ((int) (1) ) );
				if (surroundWithQuotes) {
					this.printLeadingComments(str);
					this.write("\"");
				}
				
				{
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = str.parts;
					while (( _g < _g1.length )) {
						global::Loreline.Runtime.NStringPart part = ((global::Loreline.Runtime.NStringPart) (_g1.__get(_g)) );
						 ++ _g;
						{
							global::Loreline.Runtime.StringPartType _g2 = part.partType;
							switch (_g2._hx_index) {
								case 0:
								{
									string text = ( _g2 as global::Loreline.Runtime.StringPartType_Raw ).text;
									if (surroundWithQuotes) {
										this.writeQuotedRaw(text);
									}
									else {
										this.writeUnquotedRaw(text);
									}
									
									break;
								}
								
								
								case 1:
								{
									global::Loreline.Runtime.NExpr expr = ( _g2 as global::Loreline.Runtime.StringPartType_Expr ).expr;
									{
										bool canBeSimple = this.isSimpleInterpolationExpr(expr);
										this.write("$");
										if ( ! (canBeSimple) ) {
											this.write("{");
										}
										
										this.printNode(expr, null);
										if ( ! (canBeSimple) ) {
											this.write("}");
										}
										
									}
									
									break;
								}
								
								
								case 2:
								{
									bool closing = ( _g2 as global::Loreline.Runtime.StringPartType_Tag ).closing;
									global::Loreline.Runtime.NStringLiteral content = ( _g2 as global::Loreline.Runtime.StringPartType_Tag ).expr;
									{
										this.write(( (closing) ? ("</") : ("<") ));
										this.printStringLiteral(content);
										this.write(">");
									}
									
									break;
								}
								
								
							}
							
						}
						
					}
					
				}
				
				if (surroundWithQuotes) {
					this.write("\"");
					this.printTrailingComments(str);
				}
				else {
					this.printHashTrailingComments(str);
				}
				
			}
		}
		
		
		public virtual void writeUnquotedRaw(string text) {
			this.writeRawWithContinuation(text, true);
		}
		
		
		public virtual void writeQuotedRaw(string text) {
			unchecked {
				if (( global::Loreline.Internal.Lang.StringExt.indexOf(text, "\n", null) == -1 )) {
					this.write(text);
					return;
				}
				
				global::Loreline.Internal.Root.Array lines = global::Loreline.Internal.Lang.StringExt.split(text, "\n");
				{
					int _g = 0;
					int _g1 = lines.length;
					while (( _g < _g1 )) {
						int i = _g++;
						if (( i > 0 )) {
							this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(this._newline)) ));
						}
						
						string line = global::Loreline.Internal.Lang.Runtime.toString(lines.__get(i));
						if (( ( line.Length > 0 ) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(line, ( line.Length - 1 )), 13) )) {
							line = global::Loreline.Internal.Lang.StringExt.substring(line, 0, ((object) (( line.Length - 1 )) ));
						}
						
						if (( line.Length > 0 )) {
							this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(((string) (line) ))) ));
							this._lastChar = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(line, ( line.Length - 1 )))) );
						}
						
					}
					
				}
				
			}
		}
		
		
		public virtual void writeRawWithContinuation(string text, bool stripIndent) {
			unchecked {
				if (( global::Loreline.Internal.Lang.StringExt.indexOf(text, "\n", null) == -1 )) {
					this.write(text);
					return;
				}
				
				global::Loreline.Internal.Root.Array lines = global::Loreline.Internal.Lang.StringExt.split(text, "\n");
				{
					int _g = 0;
					int _g1 = lines.length;
					while (( _g < _g1 )) {
						int i = _g++;
						if (( i > 0 )) {
							this._buf.b.Append(((string) (global::Loreline.Internal.Root.Std.@string(this._newline)) ));
							this._beginLine = 1;
						}
						
						string line = global::Loreline.Internal.Lang.Runtime.toString(lines.__get(i));
						if (( ( line.Length > 0 ) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(line, ( line.Length - 1 )), 13) )) {
							line = global::Loreline.Internal.Lang.StringExt.substring(line, 0, ((object) (( line.Length - 1 )) ));
						}
						
						if (( stripIndent && ( i > 0 ) )) {
							int j = 0;
							while (( ( j < line.Length ) && (( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(line, j), 32) || global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(line, j), 9) )) )) {
								 ++ j;
							}
							
							if (( j > 0 )) {
								object endIndex = null;
								line = global::Loreline.Internal.Lang.StringExt.substring(line, j, endIndex);
							}
							
						}
						
						if (( line.Length > 0 )) {
							this.write(line);
						}
						
					}
					
				}
				
			}
		}
		
		
		public virtual void printLiteral(global::Loreline.Runtime.NLiteral lit) {
			unchecked {
				this.printLeadingComments(lit);
				{
					global::Loreline.Runtime.LiteralType _g = lit.literalType;
					switch (_g._hx_index) {
						case 0:
						{
							this.write(( (( lit.@value == null )) ? ("null") : (global::Loreline.Internal.Root.Std.@string(((object) (lit.@value) ))) ));
							break;
						}
						
						
						case 1:
						{
							this.write(( (global::Loreline.Internal.Lang.Runtime.toBool(((object) (lit.@value) ))) ? ("true") : ("false") ));
							break;
						}
						
						
						case 2:
						{
							this.write("null");
							break;
						}
						
						
						case 3:
						{
							bool first = true;
							this.write("[");
							{
								int _g1 = 0;
								global::Loreline.Internal.Root.Array _g2 = ((global::Loreline.Internal.Root.Array) (((object) (lit.@value) )) );
								while (( _g1 < _g2.length )) {
									object elem = _g2.__get(_g1);
									 ++ _g1;
									if ( ! (first) ) {
										this.write(", ");
									}
									
									first = false;
									this.printNode(((global::Loreline.Runtime.Node) (elem) ), null);
								}
								
							}
							
							this.write("]");
							break;
						}
						
						
						case 4:
						{
							int style = ( _g as global::Loreline.Runtime.LiteralType_Object ).style;
							{
								if (( style == ((int) (1) ) )) {
									this.write("{");
									this.newline();
								}
								else {
									this.newline();
								}
								
								this._level++;
								bool first1 = true;
								{
									int _g3 = 0;
									global::Loreline.Internal.Root.Array _g4 = ((global::Loreline.Internal.Root.Array) (((object) (lit.@value) )) );
									while (( _g3 < _g4.length )) {
										global::Loreline.Runtime.NObjectField field = ((global::Loreline.Runtime.NObjectField) (_g4.__get(_g3)) );
										 ++ _g3;
										if ( ! (first1) ) {
											if (( this._beginLine == 0 )) {
												this.newline();
											}
											
										}
										
										first1 = false;
										this.printLeadingComments(field);
										this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat("", field.name), ": "));
										this.printTrailingComments(field);
										this.printNode(field.@value, null);
									}
									
								}
								
								this.newline();
								this._level--;
								if (( style == ((int) (1) ) )) {
									this.write("}");
								}
								
							}
							
							break;
						}
						
						
					}
					
				}
				
				this.printTrailingComments(lit);
			}
		}
		
		
		public virtual void printAccess(global::Loreline.Runtime.NAccess access) {
			this.printLeadingComments(access);
			if (( access.target != null )) {
				this.printNode(access.target, null);
				this.write(".");
			}
			
			this.write(access.name);
			this.printTrailingComments(access);
		}
		
		
		public virtual void printArrayAccess(global::Loreline.Runtime.NArrayAccess access) {
			this.printLeadingComments(access);
			this.printNode(access.target, null);
			this.write("[");
			this.printNode(access.index, null);
			this.write("]");
			this.printTrailingComments(access);
		}
		
		
		public virtual void printCall(global::Loreline.Runtime.NCall call) {
			this.printLeadingComments(call);
			this.printNode(call.target, null);
			this.write("(");
			bool first = true;
			{
				int _g = 0;
				global::Loreline.Internal.Root.Array _g1 = call.args;
				while (( _g < _g1.length )) {
					global::Loreline.Runtime.NExpr arg = ((global::Loreline.Runtime.NExpr) (_g1.__get(_g)) );
					 ++ _g;
					if ( ! (first) ) {
						this.write(", ");
					}
					
					first = false;
					this.printNode(arg, null);
				}
				
			}
			
			this.write(")");
			this.printTrailingComments(call);
		}
		
		
		public virtual void printBinary(global::Loreline.Runtime.NBinary binary, object skipParen) {
			unchecked {
				bool skipParen1 = ( (( skipParen == default(object) )) ? (false) : (global::Loreline.Internal.Lang.Runtime.toBool(skipParen)) );
				this.printLeadingComments(binary);
				bool needsParens = default(bool);
				if ( ! (skipParen1) ) {
					global::Loreline.Runtime.TokenType _g = binary.op;
					switch (_g._hx_index) {
						case 30:
						{
							bool word = ( _g as global::Loreline.Runtime.TokenType_OpAnd ).word;
							needsParens = true;
							break;
						}
						
						
						case 31:
						{
							bool word1 = ( _g as global::Loreline.Runtime.TokenType_OpOr ).word;
							needsParens = true;
							break;
						}
						
						
						default:
						{
							needsParens = false;
							break;
						}
						
					}
					
				}
				else {
					needsParens = false;
				}
				
				if (needsParens) {
					this.write("(");
				}
				
				this.printNode(binary.left, null);
				this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat(" ", this.getOperator(binary.op)), " "));
				this.printNode(binary.right, null);
				if (needsParens) {
					this.write(")");
				}
				
				this.printTrailingComments(binary);
			}
		}
		
		
		public virtual void printUnary(global::Loreline.Runtime.NUnary unary) {
			this.printLeadingComments(unary);
			this.write(this.getOperator(unary.op));
			this.printTrailingComments(unary);
			this.printNode(unary.operand, null);
		}
		
		
		public virtual void printAssignment(global::Loreline.Runtime.NAssign assign) {
			this.printLeadingComments(assign);
			this.printNode(assign.target, null);
			this.printTrailingComments(assign);
			this.write(global::Loreline.Internal.Lang.Runtime.concat(global::Loreline.Internal.Lang.Runtime.concat(" ", this.getOperator(assign.op)), " "));
			this.printNode(assign.@value, null);
		}
		
		
		public virtual void printInLineExpression(global::Loreline.Runtime.NExpr expr, bool parens) {
			bool savedComments = this.enableComments;
			this.enableComments = false;
			if (parens) {
				this.write("(");
			}
			
			if (( expr is global::Loreline.Runtime.NBinary )) {
				this.printBinary(((global::Loreline.Runtime.NBinary) (expr) ), true);
			}
			else {
				this.printNode(expr, null);
			}
			
			if (parens) {
				this.write(")");
			}
			
			this.enableComments = savedComments;
		}
		
		
		public virtual bool isSimpleInterpolationExpr(global::Loreline.Runtime.NExpr expr) {
			if (( expr is global::Loreline.Runtime.NAccess )) {
				global::Loreline.Runtime.NAccess access = ((global::Loreline.Runtime.NAccess) (expr) );
				if (( access.target == null )) {
					return true;
				}
				
				return this.isSimpleInterpolationExpr(access.target);
			}
			
			if (( expr is global::Loreline.Runtime.NArrayAccess )) {
				return this.isSimpleInterpolationExpr((((global::Loreline.Runtime.NArrayAccess) (expr) )).target);
			}
			
			if (( expr is global::Loreline.Runtime.NCall )) {
				return this.isSimpleInterpolationExpr((((global::Loreline.Runtime.NCall) (expr) )).target);
			}
			
			return false;
		}
		
		
		public virtual bool hasRealNewlines(global::Loreline.Runtime.Node node) {
			unchecked {
				if (( node is global::Loreline.Runtime.NStringLiteral )) {
					global::Loreline.Runtime.NStringLiteral str = ((global::Loreline.Runtime.NStringLiteral) (node) );
					if (( str.quotes == ((int) (1) ) )) {
						return false;
					}
					
					{
						int _g = 0;
						global::Loreline.Internal.Root.Array _g1 = str.parts;
						while (( _g < _g1.length )) {
							global::Loreline.Runtime.NStringPart part = ((global::Loreline.Runtime.NStringPart) (_g1.__get(_g)) );
							 ++ _g;
							{
								global::Loreline.Runtime.StringPartType _g2 = part.partType;
								if (( _g2._hx_index == 0 )) {
									string text = ( _g2 as global::Loreline.Runtime.StringPartType_Raw ).text;
									if (( global::Loreline.Internal.Lang.StringExt.indexOf(text, "\n", null) != -1 )) {
										return true;
									}
									
								}
								
							}
							
						}
						
					}
					
				}
				
				return false;
			}
		}
		
		
		public virtual string getOperator(global::Loreline.Runtime.TokenType op) {
			unchecked {
				switch (op._hx_index) {
					case 14:
					{
						return "=";
					}
					
					
					case 15:
					{
						return "+=";
					}
					
					
					case 16:
					{
						return "-=";
					}
					
					
					case 17:
					{
						return "*=";
					}
					
					
					case 18:
					{
						return "/=";
					}
					
					
					case 19:
					{
						return "+";
					}
					
					
					case 20:
					{
						return "-";
					}
					
					
					case 21:
					{
						return "*";
					}
					
					
					case 22:
					{
						return "/";
					}
					
					
					case 23:
					{
						return "%";
					}
					
					
					case 24:
					{
						return "==";
					}
					
					
					case 25:
					{
						return "!=";
					}
					
					
					case 26:
					{
						return ">";
					}
					
					
					case 27:
					{
						return "<";
					}
					
					
					case 28:
					{
						return ">=";
					}
					
					
					case 29:
					{
						return "<=";
					}
					
					
					case 30:
					{
						if (( op as global::Loreline.Runtime.TokenType_OpAnd ).word) {
							return "and";
						}
						else {
							return "&&";
						}
						
					}
					
					
					case 31:
					{
						if (( op as global::Loreline.Runtime.TokenType_OpOr ).word) {
							return "or";
						}
						else {
							return "||";
						}
						
					}
					
					
					case 32:
					{
						return "!";
					}
					
					
					default:
					{
						throw ((global::System.Exception) (global::Loreline.Internal.Exception.thrown(global::Loreline.Internal.Lang.Runtime.concat("Unsupported operator: ", global::Loreline.Internal.Root.Std.@string(op)))) );
					}
					
				}
				
			}
		}
		
		
		public override double __hx_setField_f(string field, int hash, double @value, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 238967385:
					{
						this._numEmptyLines = ((int) (@value) );
						return @value;
					}
					
					
					case 2082148610:
					{
						this._noLn = ((int) (@value) );
						return @value;
					}
					
					
					case 2015561779:
					{
						this._lastVisibleChar = ((int) (@value) );
						return @value;
					}
					
					
					case 480145323:
					{
						this._lastChar = ((int) (@value) );
						return @value;
					}
					
					
					case 1815048830:
					{
						this._beginLine = ((int) (@value) );
						return @value;
					}
					
					
					case 962343250:
					{
						this._prevLevel = ((int) (@value) );
						return @value;
					}
					
					
					case 1850367173:
					{
						this._level = ((int) (@value) );
						return @value;
					}
					
					
					default:
					{
						return base.__hx_setField_f(field, hash, @value, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_setField(string field, int hash, object @value, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 2031795927:
					{
						this.enableComments = global::Loreline.Internal.Lang.Runtime.toBool(@value);
						return @value;
					}
					
					
					case 1180627413:
					{
						this._newline = global::Loreline.Internal.Lang.Runtime.toString(@value);
						return @value;
					}
					
					
					case 40508939:
					{
						this._indent = global::Loreline.Internal.Lang.Runtime.toString(@value);
						return @value;
					}
					
					
					case 238967385:
					{
						this._numEmptyLines = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 2082148610:
					{
						this._noLn = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 2015561779:
					{
						this._lastVisibleChar = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 480145323:
					{
						this._lastChar = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 1815048830:
					{
						this._beginLine = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 1058408500:
					{
						this._buf = ((global::Loreline.Internal.Root.StringBuf) (@value) );
						return @value;
					}
					
					
					case 962343250:
					{
						this._prevLevel = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 1850367173:
					{
						this._level = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					default:
					{
						return base.__hx_setField(field, hash, @value, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_getField(string field, int hash, bool throwErrors, bool isCheck, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 1785126490:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "getOperator", 1785126490)) );
					}
					
					
					case 1062171031:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "hasRealNewlines", 1062171031)) );
					}
					
					
					case 1528031517:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isSimpleInterpolationExpr", 1528031517)) );
					}
					
					
					case 422271934:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printInLineExpression", 422271934)) );
					}
					
					
					case 1120077274:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printAssignment", 1120077274)) );
					}
					
					
					case 2138286658:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printUnary", 2138286658)) );
					}
					
					
					case 344156174:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printBinary", 344156174)) );
					}
					
					
					case 1119008619:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printCall", 1119008619)) );
					}
					
					
					case 1982510320:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printArrayAccess", 1982510320)) );
					}
					
					
					case 847135153:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printAccess", 847135153)) );
					}
					
					
					case 1968867522:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printLiteral", 1968867522)) );
					}
					
					
					case 1854718790:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "writeRawWithContinuation", 1854718790)) );
					}
					
					
					case 2104276033:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "writeQuotedRaw", 2104276033)) );
					}
					
					
					case 1371669768:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "writeUnquotedRaw", 1371669768)) );
					}
					
					
					case 2078700593:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printStringLiteral", 2078700593)) );
					}
					
					
					case 1874816578:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printInsertion", 1874816578)) );
					}
					
					
					case 1872938018:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printTransition", 1872938018)) );
					}
					
					
					case 1445512687:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "needsEmptyLines", 1445512687)) );
					}
					
					
					case 1488764261:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printIfStatement", 1488764261)) );
					}
					
					
					case 911341955:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printChoiceOption", 911341955)) );
					}
					
					
					case 1777855581:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printImportStatement", 1777855581)) );
					}
					
					
					case 2098015969:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printChoiceStatement", 2098015969)) );
					}
					
					
					case 1748782346:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printDialogueStatement", 1748782346)) );
					}
					
					
					case 157273429:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printTextStatement", 157273429)) );
					}
					
					
					case 1283016559:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printFunctionDecl", 1283016559)) );
					}
					
					
					case 1130682957:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printBeatDecl", 1130682957)) );
					}
					
					
					case 1291354182:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printCharacterDecl", 1291354182)) );
					}
					
					
					case 2067884334:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printStateDecl", 2067884334)) );
					}
					
					
					case 1859648024:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printScript", 1859648024)) );
					}
					
					
					case 804932978:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printImport", 804932978)) );
					}
					
					
					case 1759201405:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printTrailingComments", 1759201405)) );
					}
					
					
					case 132184811:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printHashTrailingComments", 132184811)) );
					}
					
					
					case 943827053:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printLeadingComments", 943827053)) );
					}
					
					
					case 1241688271:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printNode", 1241688271)) );
					}
					
					
					case 1217091629:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "print", 1217091629)) );
					}
					
					
					case 132862416:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printStringLiteralAsText", 132862416)) );
					}
					
					
					case 1269760968:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "printStringLiteralAsReference", 1269760968)) );
					}
					
					
					case 946786476:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "toString", 946786476)) );
					}
					
					
					case 2059678675:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "_line", 2059678675)) );
					}
					
					
					case 5790293:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "tab", 5790293)) );
					}
					
					
					case 212244564:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "newline", 212244564)) );
					}
					
					
					case 1693342370:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "_writeln", 1693342370)) );
					}
					
					
					case 1348037855:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "write", 1348037855)) );
					}
					
					
					case 372915077:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "unindent", 372915077)) );
					}
					
					
					case 334695532:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "indent", 334695532)) );
					}
					
					
					case 1213952397:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "clear", 1213952397)) );
					}
					
					
					case 2031795927:
					{
						return this.enableComments;
					}
					
					
					case 1180627413:
					{
						return this._newline;
					}
					
					
					case 40508939:
					{
						return this._indent;
					}
					
					
					case 238967385:
					{
						return this._numEmptyLines;
					}
					
					
					case 2082148610:
					{
						return this._noLn;
					}
					
					
					case 2015561779:
					{
						return this._lastVisibleChar;
					}
					
					
					case 480145323:
					{
						return this._lastChar;
					}
					
					
					case 1815048830:
					{
						return this._beginLine;
					}
					
					
					case 1058408500:
					{
						return this._buf;
					}
					
					
					case 962343250:
					{
						return this._prevLevel;
					}
					
					
					case 1850367173:
					{
						return this._level;
					}
					
					
					default:
					{
						return base.__hx_getField(field, hash, throwErrors, isCheck, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override double __hx_getField_f(string field, int hash, bool throwErrors, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 238967385:
					{
						return ((double) (this._numEmptyLines) );
					}
					
					
					case 2082148610:
					{
						return ((double) (this._noLn) );
					}
					
					
					case 2015561779:
					{
						return ((double) (this._lastVisibleChar) );
					}
					
					
					case 480145323:
					{
						return ((double) (this._lastChar) );
					}
					
					
					case 1815048830:
					{
						return ((double) (this._beginLine) );
					}
					
					
					case 962343250:
					{
						return ((double) (this._prevLevel) );
					}
					
					
					case 1850367173:
					{
						return ((double) (this._level) );
					}
					
					
					default:
					{
						return base.__hx_getField_f(field, hash, throwErrors, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_invokeField(string field, int hash, object[] dynargs) {
			unchecked {
				switch (hash) {
					case 1785126490:
					{
						return this.getOperator(((global::Loreline.Runtime.TokenType) (((object) (dynargs[0]) )) ));
					}
					
					
					case 1062171031:
					{
						return this.hasRealNewlines(((global::Loreline.Runtime.Node) (((object) (dynargs[0]) )) ));
					}
					
					
					case 1528031517:
					{
						return this.isSimpleInterpolationExpr(((global::Loreline.Runtime.NExpr) (((object) (dynargs[0]) )) ));
					}
					
					
					case 422271934:
					{
						this.printInLineExpression(((global::Loreline.Runtime.NExpr) (((object) (dynargs[0]) )) ), global::Loreline.Internal.Lang.Runtime.toBool(((object) (dynargs[1]) )));
						break;
					}
					
					
					case 1120077274:
					{
						this.printAssignment(((global::Loreline.Runtime.NAssign) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 2138286658:
					{
						this.printUnary(((global::Loreline.Runtime.NUnary) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 344156174:
					{
						this.printBinary(((global::Loreline.Runtime.NBinary) (((object) (dynargs[0]) )) ), ( (( dynargs.Length > 1 )) ? (((object) (dynargs[1]) )) : (null) ));
						break;
					}
					
					
					case 1119008619:
					{
						this.printCall(((global::Loreline.Runtime.NCall) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1982510320:
					{
						this.printArrayAccess(((global::Loreline.Runtime.NArrayAccess) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 847135153:
					{
						this.printAccess(((global::Loreline.Runtime.NAccess) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1968867522:
					{
						this.printLiteral(((global::Loreline.Runtime.NLiteral) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1854718790:
					{
						this.writeRawWithContinuation(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )), global::Loreline.Internal.Lang.Runtime.toBool(((object) (dynargs[1]) )));
						break;
					}
					
					
					case 2104276033:
					{
						this.writeQuotedRaw(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
						break;
					}
					
					
					case 1371669768:
					{
						this.writeUnquotedRaw(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
						break;
					}
					
					
					case 2078700593:
					{
						this.printStringLiteral(((global::Loreline.Runtime.NStringLiteral) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1874816578:
					{
						this.printInsertion(((global::Loreline.Runtime.NInsertion) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1872938018:
					{
						this.printTransition(((global::Loreline.Runtime.NTransition) (((object) (dynargs[0]) )) ), global::Loreline.Internal.Lang.Runtime.toBool(((object) (dynargs[1]) )));
						break;
					}
					
					
					case 1445512687:
					{
						return this.needsEmptyLines(((global::Loreline.Runtime.AstNode) (((object) (dynargs[0]) )) ));
					}
					
					
					case 1488764261:
					{
						this.printIfStatement(((global::Loreline.Runtime.NIfStatement) (((object) (dynargs[0]) )) ), ( (( dynargs.Length > 1 )) ? (((object) (dynargs[1]) )) : (null) ));
						break;
					}
					
					
					case 911341955:
					{
						this.printChoiceOption(((global::Loreline.Runtime.NChoiceOption) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1777855581:
					{
						this.printImportStatement(((global::Loreline.Runtime.NImportStatement) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 2098015969:
					{
						this.printChoiceStatement(((global::Loreline.Runtime.NChoiceStatement) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1748782346:
					{
						this.printDialogueStatement(((global::Loreline.Runtime.NDialogueStatement) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 157273429:
					{
						this.printTextStatement(((global::Loreline.Runtime.NTextStatement) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1283016559:
					{
						this.printFunctionDecl(((global::Loreline.Runtime.NFunctionDecl) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1130682957:
					{
						this.printBeatDecl(((global::Loreline.Runtime.NBeatDecl) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1291354182:
					{
						this.printCharacterDecl(((global::Loreline.Runtime.NCharacterDecl) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 2067884334:
					{
						this.printStateDecl(((global::Loreline.Runtime.NStateDecl) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1859648024:
					{
						this.printScript(((global::Loreline.Runtime.Script) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 804932978:
					{
						this.printImport(((global::Loreline.Runtime.NImportStatement) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1759201405:
					{
						this.printTrailingComments(((global::Loreline.Runtime.AstNode) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 132184811:
					{
						this.printHashTrailingComments(((global::Loreline.Runtime.AstNode) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 943827053:
					{
						this.printLeadingComments(((global::Loreline.Runtime.AstNode) (((object) (dynargs[0]) )) ));
						break;
					}
					
					
					case 1241688271:
					{
						this.printNode(((global::Loreline.Runtime.Node) (((object) (dynargs[0]) )) ), ( (( dynargs.Length > 1 )) ? (((object) (dynargs[1]) )) : (null) ));
						break;
					}
					
					
					case 1217091629:
					{
						return this.print(((global::Loreline.Runtime.Node) (((object) (dynargs[0]) )) ));
					}
					
					
					case 132862416:
					{
						return this.printStringLiteralAsText(((global::Loreline.Runtime.NStringLiteral) (((object) (dynargs[0]) )) ));
					}
					
					
					case 1269760968:
					{
						return this.printStringLiteralAsReference(((global::Loreline.Runtime.NStringLiteral) (((object) (dynargs[0]) )) ));
					}
					
					
					case 946786476:
					{
						return this.toString();
					}
					
					
					case 2059678675:
					{
						return this._line(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
					}
					
					
					case 5790293:
					{
						return this.tab();
					}
					
					
					case 212244564:
					{
						return this.newline();
					}
					
					
					case 1693342370:
					{
						return this._writeln(global::Loreline.Internal.Lang.Runtime.toString(( (( dynargs.Length > 0 )) ? (((object) (dynargs[0]) )) : (null) )));
					}
					
					
					case 1348037855:
					{
						return this.write(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
					}
					
					
					case 372915077:
					{
						this.unindent();
						break;
					}
					
					
					case 334695532:
					{
						this.indent();
						break;
					}
					
					
					case 1213952397:
					{
						this.clear();
						break;
					}
					
					
					default:
					{
						return base.__hx_invokeField(field, hash, dynargs);
					}
					
				}
				
				return null;
			}
		}
		
		
		public override void __hx_getFields(global::Loreline.Internal.Root.Array baseArr) {
			baseArr.push("enableComments");
			baseArr.push("_newline");
			baseArr.push("_indent");
			baseArr.push("_numEmptyLines");
			baseArr.push("_noLn");
			baseArr.push("_lastVisibleChar");
			baseArr.push("_lastChar");
			baseArr.push("_beginLine");
			baseArr.push("_buf");
			baseArr.push("_prevLevel");
			baseArr.push("_level");
			base.__hx_getFields(baseArr);
		}
		
		
		public override string ToString(){
			return this.toString();
		}
		
		
	}
}


