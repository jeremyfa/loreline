// Generated by Haxe 4.3.6

#pragma warning disable 109, 114, 219, 429, 168, 162, IL2026, IL2070, IL2072, IL2060, CS0108
namespace Loreline.Runtime._CodeToHscript {
	public sealed class CodeToHscriptStackType_Impl_ {
		
		static CodeToHscriptStackType_Impl_() {
			unchecked{
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.ObjectBrace = ((int) (0) );
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.ArrayBracket = ((int) (1) );
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.Brace = ((int) (2) );
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.Indent = ((int) (3) );
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.CaseIndent = ((int) (4) );
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.Bracket = ((int) (5) );
				global::Loreline.Runtime._CodeToHscript.CodeToHscriptStackType_Impl_.Paren = ((int) (6) );
			}
		}
		
		
		public static int ObjectBrace;
		
		public static int ArrayBracket;
		
		public static int Brace;
		
		public static int Indent;
		
		public static int CaseIndent;
		
		public static int Bracket;
		
		public static int Paren;
		
		public static string toString(int this1) {
			unchecked {
				switch (this1) {
					case 0:
					{
						return "ObjectBrace";
					}
					
					
					case 1:
					{
						return "ArrayBracket";
					}
					
					
					case 2:
					{
						return "Brace";
					}
					
					
					case 3:
					{
						return "Indent";
					}
					
					
					case 4:
					{
						return "CaseIndent";
					}
					
					
					case 5:
					{
						return "Bracket";
					}
					
					
					case 6:
					{
						return "Paren";
					}
					
					
				}
				
				return null;
			}
		}
		
		
	}
}



#pragma warning disable 109, 114, 219, 429, 168, 162, IL2026, IL2070, IL2072, IL2060, CS0108
namespace Loreline.Runtime {
	public class CodeToHscript : global::Loreline.Internal.Lang.HxObject {
		
		static CodeToHscript() {
			global::Loreline.Runtime.CodeToHscript.CONTROL_KEYWORDS = new global::Loreline.Internal.Root.Array(new object[]{"for", "while", "if", "else", "switch", "catch"});
		}
		
		
		public CodeToHscript(global::Loreline.Internal.Lang.EmptyObject empty) {
		}
		
		
		public CodeToHscript() {
			global::Loreline.Runtime.CodeToHscript.__hx_ctor_loreline_CodeToHscript(this);
		}
		
		
		protected static void __hx_ctor_loreline_CodeToHscript(global::Loreline.Runtime.CodeToHscript __hx_this) {
			__hx_this.indentStack = null;
			__hx_this.indentLevel = 0;
			__hx_this.inControlWithoutParens = false;
			__hx_this.inControl = false;
			__hx_this.currentPosOffset = 0;
			__hx_this.posOffsets = null;
			__hx_this.inString = false;
			__hx_this.inComment = false;
			__hx_this.indent = 0;
			__hx_this.length = 0;
			__hx_this.lineOutput = null;
			__hx_this.output = null;
			__hx_this.input = null;
			__hx_this.index = 0;
			{
			}
			
		}
		
		
		public static global::Loreline.Internal.Root.Array CONTROL_KEYWORDS;
		
		public int index;
		
		public string input;
		
		public global::Loreline.Internal.Root.StringBuf output;
		
		public global::Loreline.Internal.Root.StringBuf lineOutput;
		
		public int length;
		
		public int indent;
		
		public bool inComment;
		
		public bool inString;
		
		public global::Loreline.Internal.Root.Array posOffsets;
		
		public int currentPosOffset;
		
		public bool inControl;
		
		public bool inControlWithoutParens;
		
		public int indentLevel;
		
		public global::Loreline.Internal.Root.Array indentStack;
		
		public global::Loreline.Internal.Root.Array stack;
		
		public virtual string process(string input) {
			input = global::Loreline.Internal.Lang.Runtime.concat(input.TrimEnd(), "\n//<END>");
			this.input = input;
			this.index = 0;
			this.output = new global::Loreline.Internal.Root.StringBuf();
			this.lineOutput = new global::Loreline.Internal.Root.StringBuf();
			this.length = input.Length;
			this.indent = 0;
			this.inComment = false;
			this.inString = false;
			this.posOffsets = new global::Loreline.Internal.Root.Array(new object[]{});
			this.currentPosOffset = 0;
			this.inControl = false;
			this.inControlWithoutParens = false;
			this.indentStack = new global::Loreline.Internal.Root.Array(new object[]{});
			this.indentLevel = 0;
			this.stack = new global::Loreline.Internal.Root.Array(new object[]{});
			this.processInput(null);
			return global::Loreline.Internal.Lang.Runtime.concat(this.output.b.ToString().TrimEnd(), "\n");
		}
		
		
		public virtual global::Loreline.Runtime.Position toLorelinePos(global::Loreline.Runtime.Position funcPos, int pmin, int pmax) {
			unchecked {
				int min = this.inputPosFromProcessedPos(pmin);
				int max = this.inputPosFromProcessedPos(pmax);
				int len = ( ( max + 1 ) - min );
				return funcPos.withOffset(this.input, min, len, funcPos.offset);
			}
		}
		
		
		public virtual int inputPosFromProcessedPos(int pos) {
			unchecked {
				if (( pos < 0 )) {
					return 0;
				}
				
				if (( pos >= this.posOffsets.length )) {
					return ( ( this.input.Length - 1 ) - ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.posOffsets.__get(( this.input.Length - 1 )))) ) );
				}
				
				return ( pos - ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.posOffsets.__get(pos))) ) );
			}
		}
		
		
		public virtual int processedPosFromInputPos(int pos) {
			unchecked {
				if (( pos < 0 )) {
					return 0;
				}
				
				if (( pos >= this.input.Length )) {
					return ( this.output.b.Length - 1 );
				}
				
				int count = 0;
				{
					int _g = 0;
					int _g1 = this.posOffsets.length;
					while (( _g < _g1 )) {
						int i = _g++;
						if (( ( i - ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.posOffsets.__get(i))) ) ) > pos )) {
							return ( i - 1 );
						}
						else if (( ( i - ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.posOffsets.__get(i))) ) ) == pos )) {
							return i;
						}
						
						count = i;
					}
					
				}
				
				return count;
			}
		}
		
		
		public virtual void processInput(object until) {
			unchecked {
				int until1 = ( (( until == default(object) )) ? (-1) : (((int) (global::Loreline.Internal.Lang.Runtime.toInt(until)) )) );
				int braceLevel = 0;
				int bracketLevel = 0;
				int parenLevel = 0;
				while (( this.index < this.length )) {
					object c = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
					if (global::Loreline.Internal.Lang.Runtime.eq(c, 34)) {
						this.processString();
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 39)) {
						this.error("Unexpected single quote");
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 47)) {
						object cc = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 1 ));
						if (( global::Loreline.Internal.Lang.Runtime.eq(cc, 47) || global::Loreline.Internal.Lang.Runtime.eq(cc, 42) )) {
							this.processComment();
						}
						else {
							this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						}
						
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 13)) {
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 10)) {
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 123)) {
						 ++ braceLevel;
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 125)) {
						 -- braceLevel;
						if (( global::Loreline.Internal.Lang.Runtime.eq(c, until1) && ( braceLevel < 0 ) )) {
							return;
						}
						else {
							this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						}
						
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 91)) {
						 ++ bracketLevel;
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 93)) {
						 -- bracketLevel;
						if (( global::Loreline.Internal.Lang.Runtime.eq(c, until1) && ( bracketLevel < 0 ) )) {
							return;
						}
						else {
							this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						}
						
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 40)) {
						 ++ parenLevel;
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 41)) {
						 -- parenLevel;
						if (( global::Loreline.Internal.Lang.Runtime.eq(c, until1) && ( parenLevel < 0 ) )) {
							return;
						}
						else {
							this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						}
						
					}
					else if (( ( this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) )) && ( this.index > 0 ) ) &&  ! (this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index - 1 )))) )))  )) {
						if (global::Loreline.Internal.Lang.Runtime.eq(c, 97)) {
							if (( ( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 1 )), 110) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 2 )), 100) ) &&  ! (this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 3 )))) )))  )) {
								this._add(38, true);
								this._add(38, true);
								this._add(32, true);
							}
							else {
								this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
							}
							
						}
						else if (global::Loreline.Internal.Lang.Runtime.eq(c, 111)) {
							if (( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 1 )), 114) &&  ! (this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 2 )))) )))  )) {
								this._add(124, true);
								this._add(124, true);
								this._add(32, true);
							}
							else {
								this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
							}
							
						}
						else {
							this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						}
						
					}
					else {
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					
				}
				
				if (( until1 == -1 )) {
					while (( ( this.stack.length > 0 ) && (( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(( this.stack.length - 1 )))) ) == ((int) (3) ) ) || ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(( this.stack.length - 1 )))) ) == ((int) (4) ) ) )) )) {
						object popped = this.stack.pop();
						this.indentStack.pop();
						if (global::Loreline.Internal.Lang.Runtime.eq(popped, ((int) (3) ))) {
							this.currentPosOffset++;
							this.output.addChar(32);
							this.posOffsets.push(this.currentPosOffset);
							this.currentPosOffset++;
							this.output.addChar(125);
							this.posOffsets.push(this.currentPosOffset);
						}
						
					}
					
				}
				
			}
		}
		
		
		public virtual void processString() {
			unchecked {
				this.inString = true;
				this._add(34, true);
				bool escaped = false;
				while (( this.index < this.length )) {
					object c = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
					if (escaped) {
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						escaped = false;
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 92)) {
						escaped = true;
						this._add(92, true);
					}
					else if (global::Loreline.Internal.Lang.Runtime.eq(c, 34)) {
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
						this.inString = false;
						return;
					}
					else if (( global::Loreline.Internal.Lang.Runtime.eq(c, 36) &&  ! (escaped)  )) {
						this.index++;
						c = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
						if (global::Loreline.Internal.Lang.Runtime.eq(c, 123)) {
							this.currentPosOffset--;
							this._add(34, false);
							this._add(43, false);
							this._add(40, true);
							this.inString = false;
							this.processComplexInterpolation();
							this.inString = true;
							this._add(41, true);
							this.currentPosOffset--;
							this._add(43, false);
							this._add(34, false);
							this.currentPosOffset++;
						}
						else {
							int c1 = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) );
							if (( ( ( ( c1 >= 97 ) && ( c1 <= 122 ) ) || ( ( c1 >= 65 ) && ( c1 <= 90 ) ) ) || ( c1 == 95 ) )) {
								this.currentPosOffset--;
								this._add(34, false);
								this._add(43, false);
								this.processFieldAccessInterpolation();
								this.currentPosOffset--;
								this._add(43, false);
								this._add(34, false);
								this.currentPosOffset++;
							}
							else if (global::Loreline.Internal.Lang.Runtime.eq(c, 36)) {
								this._add(36, true);
							}
							else {
								this.error("Expected identifier or { after $");
							}
							
						}
						
					}
					else {
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
					}
					
				}
				
				this.error("Unterminated string");
			}
		}
		
		
		public virtual void processComplexInterpolation() {
			unchecked {
				this.processInput(125);
			}
		}
		
		
		public virtual void processFieldAccessInterpolation() {
			unchecked {
				int c = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index))) );
				if ( ! ((( ( ( ( c >= 97 ) && ( c <= 122 ) ) || ( ( c >= 65 ) && ( c <= 90 ) ) ) || ( c == 95 ) ))) ) {
					this.error("Expected identifier in field access");
				}
				
				this.processIdentifier();
				while (( this.index < this.length )) {
					object _g = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
					if (( _g == default(object) )) {
						break;
					}
					else {
						switch (((int) (global::Loreline.Internal.Lang.Runtime.toInt((_g))) )) {
							case 40:
							{
								this._add(40, true);
								this.processInput(41);
								this._add(41, true);
								break;
							}
							
							
							case 46:
							{
								bool tmp = default(bool);
								if (( ( this.index + 1 ) < this.length )) {
									int c1 = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 1 )))) );
									tmp = ( ( ( ( c1 >= 97 ) && ( c1 <= 122 ) ) || ( ( c1 >= 65 ) && ( c1 <= 90 ) ) ) || ( c1 == 95 ) );
								}
								else {
									tmp = false;
								}
								
								if (tmp) {
									this._add(46, true);
									this.processIdentifier();
								}
								else {
									goto label1;
								}
								
								break;
							}
							
							
							case 91:
							{
								this._add(91, true);
								this.processInput(93);
								break;
							}
							
							
							default:
							{
								goto label1;
							}
							
						}
						
					}
					
				}
				label1: {};
			}
		}
		
		
		public virtual void processIdentifier() {
			unchecked {
				while (( this.index < this.length )) {
					object c = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
					int c1 = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) );
					if ( ! ((( ( ( ( ( c1 >= 97 ) && ( c1 <= 122 ) ) || ( ( c1 >= 65 ) && ( c1 <= 90 ) ) ) || ( c1 == 95 ) ) || ( ( c1 >= 48 ) && ( c1 <= 57 ) ) ))) ) {
						break;
					}
					
					this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ), true);
				}
				
			}
		}
		
		
		public bool isDigit(int c) {
			unchecked {
				if (( c >= 48 )) {
					return ( c <= 57 );
				}
				else {
					return false;
				}
				
			}
		}
		
		
		public bool isIdentifierStart(int c) {
			unchecked {
				if ( ! ((( ( ( c >= 97 ) && ( c <= 122 ) ) || ( ( c >= 65 ) && ( c <= 90 ) ) ))) ) {
					return ( c == 95 );
				}
				else {
					return true;
				}
				
			}
		}
		
		
		public bool isIdentifierPart(int c) {
			unchecked {
				if ( ! ((( ( ( ( c >= 97 ) && ( c <= 122 ) ) || ( ( c >= 65 ) && ( c <= 90 ) ) ) || ( c == 95 ) ))) ) {
					if (( c >= 48 )) {
						return ( c <= 57 );
					}
					else {
						return false;
					}
					
				}
				else {
					return true;
				}
				
			}
		}
		
		
		public virtual void processComment() {
			unchecked {
				this.inComment = true;
				object c = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 1 ));
				if (global::Loreline.Internal.Lang.Runtime.eq(c, 47)) {
					this._add(32, true);
					this._add(32, true);
					while (( this.index < this.length )) {
						object cc = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
						if (( global::Loreline.Internal.Lang.Runtime.eq(cc, 13) || global::Loreline.Internal.Lang.Runtime.eq(cc, 10) )) {
							break;
						}
						
						this._add(32, true);
					}
					
				}
				else if (global::Loreline.Internal.Lang.Runtime.eq(c, 42)) {
					this._add(32, true);
					this._add(32, true);
					while (( this.index < this.length )) {
						object cc1 = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, this.index);
						if (( ( global::Loreline.Internal.Lang.Runtime.eq(cc1, 42) && ( ( this.index + 1 ) < this.length ) ) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( this.index + 1 )), 47) )) {
							this._add(32, true);
							this._add(32, true);
							break;
						}
						else if (( global::Loreline.Internal.Lang.Runtime.eq(cc1, 13) || global::Loreline.Internal.Lang.Runtime.eq(cc1, 10) )) {
							this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(cc1)) ), true);
						}
						else {
							this._add(32, true);
						}
						
					}
					
				}
				
				this.inComment = false;
			}
		}
		
		
		public virtual bool endsWithChar(string line, int c) {
			unchecked {
				if (( line.Length == 0 )) {
					return false;
				}
				
				string trimmed = line.TrimEnd();
				int len = trimmed.Length;
				bool result = ( ( len > 0 ) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(trimmed, ( len - 1 )), c) );
				return result;
			}
		}
		
		
		public virtual bool followsWithChar(int c, int pos) {
			unchecked {
				int tempIndex = pos;
				bool result = false;
				while (( tempIndex < this.length )) {
					object cc = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex);
					if (( ( ( global::Loreline.Internal.Lang.Runtime.eq(cc, 32) || global::Loreline.Internal.Lang.Runtime.eq(cc, 9) ) || global::Loreline.Internal.Lang.Runtime.eq(cc, 10) ) || global::Loreline.Internal.Lang.Runtime.eq(cc, 13) )) {
						 ++ tempIndex;
						continue;
					}
					
					if (( global::Loreline.Internal.Lang.Runtime.eq(cc, 47) && ( ( tempIndex + 1 ) < this.length ) )) {
						object nextChar = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( tempIndex + 1 ));
						if (global::Loreline.Internal.Lang.Runtime.eq(nextChar, 47)) {
							tempIndex += 2;
							while (( ( ( tempIndex < this.length ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 13)) ) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 10)) ) )) {
								 ++ tempIndex;
							}
							
							if (( tempIndex < this.length )) {
								 ++ tempIndex;
							}
							
							continue;
						}
						
						if (global::Loreline.Internal.Lang.Runtime.eq(nextChar, 42)) {
							tempIndex += 2;
							while (( ( tempIndex + 1 ) < this.length )) {
								if (( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 42) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( tempIndex + 1 )), 47) )) {
									tempIndex += 2;
									break;
								}
								
								 ++ tempIndex;
							}
							
							continue;
						}
						
					}
					
					result = global::Loreline.Internal.Lang.Runtime.eq(cc, c);
					break;
				}
				
				return result;
			}
		}
		
		
		public virtual bool endsOrFollowsWithChar(string line, int c, int pos, object hxpos) {
			if ( ! (this.endsWithChar(line, c)) ) {
				return this.followsWithChar(c, pos);
			}
			else {
				return true;
			}
			
		}
		
		
		public virtual int nextLineIndentOffset(string line, int pos) {
			unchecked {
				string currentLine = line.TrimStart();
				if (( currentLine.Length == 0 )) {
					return 0;
				}
				
				int currentIndent = ( line.Length - currentLine.Length );
				int firstSkippedCommentIndent = -1;
				while (( pos < this.length )) {
					int endLine = global::Loreline.Internal.Lang.StringExt.indexOf(this.input, "\n", pos);
					if (( endLine == -1 )) {
						endLine = this.length;
					}
					
					string nextLine = global::Loreline.Internal.Lang.StringExt.substring(this.input, pos, endLine);
					string trimmed = nextLine.TrimStart();
					if (( ( ( trimmed.Length > 0 ) && ((  ! (trimmed.StartsWith("//"))  || trimmed.StartsWith("//<END>") )) ) &&  ! (trimmed.StartsWith("/*"))  )) {
						int nextIndent = ( nextLine.Length - trimmed.Length );
						if (( ( trimmed.StartsWith("//<END>") && ( currentIndent == 0 ) ) && ( firstSkippedCommentIndent > 0 ) )) {
							return ( firstSkippedCommentIndent - currentIndent );
						}
						
						return ( nextIndent - currentIndent );
					}
					
					if (( ( trimmed.Length > 0 ) && ( firstSkippedCommentIndent == -1 ) )) {
						firstSkippedCommentIndent = ( nextLine.Length - trimmed.Length );
					}
					
					pos = ( endLine + 1 );
				}
				
				if (( ( currentIndent == 0 ) && ( firstSkippedCommentIndent > 0 ) )) {
					return ( firstSkippedCommentIndent - currentIndent );
				}
				
				return 0;
			}
		}
		
		
		public virtual bool followsWithIf(int pos) {
			unchecked {
				int tempIndex = pos;
				while (( tempIndex < this.length )) {
					object cc = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex);
					if (( ( ( global::Loreline.Internal.Lang.Runtime.eq(cc, 32) || global::Loreline.Internal.Lang.Runtime.eq(cc, 9) ) || global::Loreline.Internal.Lang.Runtime.eq(cc, 10) ) || global::Loreline.Internal.Lang.Runtime.eq(cc, 13) )) {
						 ++ tempIndex;
						continue;
					}
					
					if (( global::Loreline.Internal.Lang.Runtime.eq(cc, 47) && ( ( tempIndex + 1 ) < this.length ) )) {
						object nextChar = global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( tempIndex + 1 ));
						if (global::Loreline.Internal.Lang.Runtime.eq(nextChar, 47)) {
							tempIndex += 2;
							while (( ( ( tempIndex < this.length ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 13)) ) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 10)) ) )) {
								 ++ tempIndex;
							}
							
							continue;
						}
						
						if (global::Loreline.Internal.Lang.Runtime.eq(nextChar, 42)) {
							tempIndex += 2;
							while (( ( tempIndex + 1 ) < this.length )) {
								if (( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 42) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( tempIndex + 1 )), 47) )) {
									tempIndex += 2;
									break;
								}
								
								 ++ tempIndex;
							}
							
							continue;
						}
						
					}
					
					if (( ( ( ( tempIndex + 1 ) < this.length ) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, tempIndex), 105) ) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( tempIndex + 1 )), 102) )) {
						if (( ( ( tempIndex + 2 ) >= this.length ) ||  ! (this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( tempIndex + 2 )))) )))  )) {
							return true;
						}
						
					}
					
					return false;
				}
				
				return false;
			}
		}
		
		
		public virtual bool endsWithControlKeyword(string line, int pos) {
			unchecked {
				string trimmed = line.TrimEnd();
				if (( trimmed.Length == 0 )) {
					return false;
				}
				
				{
					int _g = 0;
					global::Loreline.Internal.Root.Array _g1 = global::Loreline.Runtime.CodeToHscript.CONTROL_KEYWORDS;
					while (( _g < _g1.length )) {
						string keyword = global::Loreline.Internal.Lang.Runtime.toString(_g1.__get(_g));
						 ++ _g;
						if (trimmed.EndsWith(keyword)) {
							int trimmedSize = ( line.Length - trimmed.Length );
							int keywordPos = ( trimmed.Length - keyword.Length );
							bool hasValidPrefix = ( ( keywordPos == 0 ) ||  ! (this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(trimmed, ( keywordPos - 1 )))) )))  );
							int nextPos = pos;
							bool hasValidSuffix = ( ( nextPos < this.length ) && (( ( trimmedSize > 0 ) ||  ! (this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, nextPos))) )))  )) );
							if (( hasValidPrefix && hasValidSuffix )) {
								if (( ( keyword != "else" ) ||  ! (this.followsWithIf(pos))  )) {
									return true;
								}
								
							}
							
						}
						
					}
					
				}
				
				return false;
			}
		}
		
		
		public virtual bool endsWithArrayIndexable(string line) {
			unchecked {
				int length = line.Length;
				if (( length == 0 )) {
					return false;
				}
				
				int lastNonWhitespacePos = ( length - 1 );
				while (( lastNonWhitespacePos >= 0 )) {
					object c = global::Loreline.Internal.Lang.StringExt.charCodeAt(line, lastNonWhitespacePos);
					if ( ! (this.isWhitespace(((int) (global::Loreline.Internal.Lang.Runtime.toInt(c)) ))) ) {
						break;
					}
					
					 -- lastNonWhitespacePos;
				}
				
				if (( lastNonWhitespacePos < 0 )) {
					return false;
				}
				
				object lastChar = global::Loreline.Internal.Lang.StringExt.charCodeAt(line, lastNonWhitespacePos);
				if ( ! ((( ( global::Loreline.Internal.Lang.Runtime.eq(lastChar, 41) || global::Loreline.Internal.Lang.Runtime.eq(lastChar, 125) ) || global::Loreline.Internal.Lang.Runtime.eq(lastChar, 93) ))) ) {
					return this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(lastChar)) ));
				}
				else {
					return true;
				}
				
			}
		}
		
		
		public virtual bool isWhitespace(int c) {
			unchecked {
				if ( ! ((( ( ( c == 32 ) || ( c == 10 ) ) || ( c == 9 ) ))) ) {
					return ( c == 13 );
				}
				else {
					return true;
				}
				
			}
		}
		
		
		public virtual bool isAlphaNumeric(int c) {
			unchecked {
				if ( ! ((( ( ( ( c >= 97 ) && ( c <= 122 ) ) || ( ( c >= 65 ) && ( c <= 90 ) ) ) || ( ( c >= 48 ) && ( c <= 57 ) ) ))) ) {
					return ( c == 95 );
				}
				else {
					return true;
				}
				
			}
		}
		
		
		public virtual bool inStatementsBlock() {
			unchecked {
				int i = ( this.stack.length - 1 );
				if (( i >= 0 )) {
					if ( ! ((( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) == ((int) (2) ) ) || ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) == ((int) (3) ) ) ))) ) {
						return ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) == ((int) (4) ) );
					}
					else {
						return true;
					}
					
				}
				
				return true;
			}
		}
		
		
		public virtual bool inObjectBlock() {
			unchecked {
				int i = ( this.stack.length - 1 );
				while (( i >= 0 )) {
					if (( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) != ((int) (3) ) ) && ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) != ((int) (4) ) ) )) {
						bool res = ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) == ((int) (0) ) );
						return res;
					}
					
					 -- i;
				}
				
				return false;
			}
		}
		
		
		public virtual bool inArrayBlock() {
			unchecked {
				int i = ( this.stack.length - 1 );
				while (( i >= 0 )) {
					if (( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) != ((int) (3) ) ) && ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) != ((int) (4) ) ) )) {
						bool res = ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(i))) ) == ((int) (1) ) );
						return res;
					}
					
					 -- i;
				}
				
				return false;
			}
		}
		
		
		public virtual bool isLabelStart(int pos) {
			unchecked {
				pos = this.skipWhitespaceAndComments(pos);
				int c = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos))) );
				if ( ! ((( ( ( ( c >= 97 ) && ( c <= 122 ) ) || ( ( c >= 65 ) && ( c <= 90 ) ) ) || ( c == 95 ) ))) ) {
					return false;
				}
				
				int startPos = pos;
				 ++ pos;
				while (true) {
					bool tmp = default(bool);
					if (( pos < this.length )) {
						int c1 = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos))) );
						tmp = ( ( ( ( ( c1 >= 97 ) && ( c1 <= 122 ) ) || ( ( c1 >= 65 ) && ( c1 <= 90 ) ) ) || ( c1 == 95 ) ) || ( ( c1 >= 48 ) && ( c1 <= 57 ) ) );
					}
					else {
						tmp = false;
					}
					
					if ( ! (tmp) ) {
						break;
					}
					
					 ++ pos;
				}
				
				while (( ( pos < this.length ) && this.isWhitespace(((int) (global::Loreline.Internal.Lang.Runtime.toInt(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos))) )) )) {
					 ++ pos;
				}
				
				if (( ( pos >= this.length ) || ( ! (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 58)) ) )) {
					return false;
				}
				
				string word = global::Loreline.Internal.Lang.StringExt.substr(this.input, startPos, ( pos - startPos ));
				if (( word == "case" )) {
					return false;
				}
				
				return true;
			}
		}
		
		
		public virtual int skipWhitespaceAndComments(int pos) {
			unchecked {
				int startPos = pos;
				bool foundContent = false;
				while (( pos < this.length )) {
					while (( ( pos < this.length ) && (( ( ( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 32) || global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 9) ) || global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 10) ) || global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 13) )) )) {
						 ++ pos;
						foundContent = true;
					}
					
					if (( pos < ( this.length - 1 ) )) {
						if (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 47)) {
							if (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( pos + 1 )), 47)) {
								pos = startPos;
								return pos;
							}
							else if (global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( pos + 1 )), 42)) {
								pos += 2;
								foundContent = true;
								bool commentClosed = false;
								while (( pos < ( this.length - 1 ) )) {
									if (( global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, pos), 42) && global::Loreline.Internal.Lang.Runtime.eq(global::Loreline.Internal.Lang.StringExt.charCodeAt(this.input, ( pos + 1 )), 47) )) {
										pos += 2;
										commentClosed = true;
										break;
									}
									
									 ++ pos;
								}
								
								if ( ! (commentClosed) ) {
									pos = startPos;
									return pos;
								}
								
								continue;
							}
							
						}
						
					}
					
					break;
				}
				
				if (foundContent) {
					return pos;
				}
				else {
					return startPos;
				}
				
			}
		}
		
		
		public void stackPush(int item) {
			this.stack.push(item);
		}
		
		
		public object stackPop() {
			return this.stack.pop();
		}
		
		
		public virtual void _add(int c, bool incrementIndex) {
			unchecked {
				if (incrementIndex) {
					this.index++;
				}
				else {
					this.currentPosOffset++;
				}
				
				if (this.inString) {
					this.lineOutput.addChar(( (( c == 34 )) ? (c) : (32) ));
					this.output.addChar(c);
					this.posOffsets.push(this.currentPosOffset);
				}
				else if (( ( c == 13 ) || ( c == 10 ) )) {
					if (this.inControlWithoutParens) {
						this.inControlWithoutParens = false;
						if (( ! (global::Loreline.Internal.Lang.Runtime.eq(this.stack.pop(), ((int) (6) ))) )) {
							this.error("Unexpected end of line");
						}
						
						this.currentPosOffset++;
						this.lineOutput.addChar(41);
						this.output.addChar(41);
						this.posOffsets.push(this.currentPosOffset);
					}
					
					this.inControl = false;
					string line = this.lineOutput.b.ToString();
					this.lineOutput = new global::Loreline.Internal.Root.StringBuf();
					if (( ( this.inStatementsBlock() || this.inObjectBlock() ) || this.inArrayBlock() )) {
						int indent = this.nextLineIndentOffset(line, this.index);
						if (( line.Trim().Length == 0 )) {
						}
						else if (( ( ( indent > 0 ) &&  ! (this.endsOrFollowsWithChar(line, 123, this.index, new global::Loreline.Internal.Lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"_add", "Loreline.Runtime.CodeToHscript", "src/Loreline.Runtime/CodeToHscript.hx"}, new int[]{1981972957}, new double[]{((double) (1061) )})))  ) &&  ! (this.endsOrFollowsWithChar(line, 91, this.index, new global::Loreline.Internal.Lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"_add", "Loreline.Runtime.CodeToHscript", "src/Loreline.Runtime/CodeToHscript.hx"}, new int[]{1981972957}, new double[]{((double) (1061) )})))  )) {
							string trimmedLine = line.TrimStart();
							bool isCaseLabel = ( ( trimmedLine.StartsWith("case ") || trimmedLine.StartsWith("case\t") ) || (( ( ( trimmedLine == "default" ) || trimmedLine.StartsWith("default ") ) || trimmedLine.StartsWith("default\t") )) );
							if (isCaseLabel) {
								this.stack.push(((int) (4) ));
								this.indentLevel += indent;
								this.indentStack.push(this.indentLevel);
								this.currentPosOffset++;
								this.output.addChar(58);
								this.posOffsets.push(this.currentPosOffset);
							}
							else {
								this.stack.push(((int) (3) ));
								this.indentLevel += indent;
								this.indentStack.push(this.indentLevel);
								this.currentPosOffset++;
								this.output.addChar(32);
								this.posOffsets.push(this.currentPosOffset);
								this.currentPosOffset++;
								this.output.addChar(123);
								this.posOffsets.push(this.currentPosOffset);
							}
							
						}
						else if (( ( ( indent < 0 ) && ( this.stack.length > 0 ) ) && (( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(( this.stack.length - 1 )))) ) == ((int) (3) ) ) || ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(( this.stack.length - 1 )))) ) == ((int) (4) ) ) )) )) {
							if ((  ! (this.inObjectBlock())  &&  ! (this.endsOrFollowsWithChar(line, 59, this.index, new global::Loreline.Internal.Lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"_add", "Loreline.Runtime.CodeToHscript", "src/Loreline.Runtime/CodeToHscript.hx"}, new int[]{1981972957}, new double[]{((double) (1090) )})))  )) {
								this.currentPosOffset++;
								this.output.addChar(59);
								this.posOffsets.push(this.currentPosOffset);
							}
							
							this.indentLevel += indent;
							bool first = true;
							while (( ( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.indentStack.__get(( this.indentStack.length - 1 )))) ) > this.indentLevel ) && ( this.stack.length > 0 ) ) && (( ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(( this.stack.length - 1 )))) ) == ((int) (3) ) ) || ( ((int) (global::Loreline.Internal.Lang.Runtime.toInt(this.stack.__get(( this.stack.length - 1 )))) ) == ((int) (4) ) ) )) )) {
								object popped = this.stack.pop();
								this.indentStack.pop();
								if (global::Loreline.Internal.Lang.Runtime.eq(popped, ((int) (3) ))) {
									if (first) {
										first = false;
										this.currentPosOffset++;
										this.output.addChar(32);
										this.posOffsets.push(this.currentPosOffset);
									}
									
									this.currentPosOffset++;
									this.output.addChar(125);
									this.posOffsets.push(this.currentPosOffset);
								}
								
							}
							
						}
						else if (( ( ( indent == 0 ) &&  ! (this.endsOrFollowsWithChar(line, 59, this.index, new global::Loreline.Internal.Lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"_add", "Loreline.Runtime.CodeToHscript", "src/Loreline.Runtime/CodeToHscript.hx"}, new int[]{1981972957}, new double[]{((double) (1115) )})))  ) &&  ! (this.endsOrFollowsWithChar(line, 44, this.index, new global::Loreline.Internal.Lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"_add", "Loreline.Runtime.CodeToHscript", "src/Loreline.Runtime/CodeToHscript.hx"}, new int[]{1981972957}, new double[]{((double) (1115) )})))  )) {
							if (this.inObjectBlock()) {
								this.currentPosOffset++;
								this.output.addChar(44);
								this.posOffsets.push(this.currentPosOffset);
							}
							else if (this.inArrayBlock()) {
								this.currentPosOffset++;
								this.output.addChar(44);
								this.posOffsets.push(this.currentPosOffset);
							}
							else {
								this.currentPosOffset++;
								this.output.addChar(59);
								this.posOffsets.push(this.currentPosOffset);
							}
							
						}
						
					}
					
					this.output.addChar(c);
					this.posOffsets.push(this.currentPosOffset);
				}
				else if (( (  ! (this.inControl)  &&  ! (this.isWhitespace(c))  ) && this.endsWithControlKeyword(this.lineOutput.b.ToString(), ( this.index - 1 )) )) {
					this.inControl = true;
					if ( ! (this.followsWithChar(40, ( this.index - 1 ))) ) {
						this.inControlWithoutParens = true;
						this.stack.push(((int) (6) ));
						this.currentPosOffset++;
						this.lineOutput.addChar(c);
						this.output.addChar(40);
						this.posOffsets.push(this.currentPosOffset);
					}
					else if (( c == 40 )) {
						this.stack.push(((int) (6) ));
					}
					
					this.lineOutput.addChar(c);
					this.output.addChar(c);
					this.posOffsets.push(this.currentPosOffset);
				}
				else {
					if (( c == 40 )) {
						this.stack.push(((int) (6) ));
					}
					else if (( c == 41 )) {
						if (( ! (global::Loreline.Internal.Lang.Runtime.eq(this.stack.pop(), ((int) (6) ))) )) {
							this.error("Unexpected: )");
						}
						
					}
					else if (( c == 91 )) {
						if ( ! (this.endsWithArrayIndexable(this.lineOutput.b.ToString())) ) {
							this.stack.push(((int) (1) ));
						}
						else {
							this.stack.push(((int) (5) ));
						}
						
					}
					else if (( c == 93 )) {
						object popped1 = this.stack.pop();
						if (( ( ! (global::Loreline.Internal.Lang.Runtime.eq(popped1, ((int) (5) ))) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(popped1, ((int) (1) ))) ) )) {
							this.error("Unexpected: ]");
						}
						
					}
					else if (( c == 123 )) {
						if (this.isLabelStart(this.index)) {
							this.stack.push(((int) (0) ));
						}
						else {
							this.stack.push(((int) (2) ));
						}
						
					}
					else if (( c == 125 )) {
						object popped2 = this.stack.pop();
						if (( ( ! (global::Loreline.Internal.Lang.Runtime.eq(popped2, ((int) (2) ))) ) && ( ! (global::Loreline.Internal.Lang.Runtime.eq(popped2, ((int) (0) ))) ) )) {
							this.error("Unexpected: }");
						}
						
					}
					
					this.lineOutput.addChar(c);
					this.output.addChar(c);
					this.posOffsets.push(this.currentPosOffset);
				}
				
			}
		}
		
		
		public virtual void error(string message) {
			throw ((global::System.Exception) (global::Loreline.Internal.Exception.thrown(new global::Loreline.Runtime.Error(((string) (message) ), ((global::Loreline.Runtime.Position) (global::Loreline.Runtime.Position.fromContentAndIndex(this.input, this.index, null)) )))) );
		}
		
		
		public override double __hx_setField_f(string field, int hash, double @value, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 933032312:
					{
						this.indentLevel = ((int) (@value) );
						return @value;
					}
					
					
					case 1285965006:
					{
						this.currentPosOffset = ((int) (@value) );
						return @value;
					}
					
					
					case 334695532:
					{
						this.indent = ((int) (@value) );
						return @value;
					}
					
					
					case 520590566:
					{
						this.length = ((int) (@value) );
						return @value;
					}
					
					
					case 1041537810:
					{
						this.index = ((int) (@value) );
						return @value;
					}
					
					
					default:
					{
						return base.__hx_setField_f(field, hash, @value, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_setField(string field, int hash, object @value, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 67856200:
					{
						this.stack = ((global::Loreline.Internal.Root.Array) (@value) );
						return @value;
					}
					
					
					case 1229275964:
					{
						this.indentStack = ((global::Loreline.Internal.Root.Array) (@value) );
						return @value;
					}
					
					
					case 933032312:
					{
						this.indentLevel = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 1197201529:
					{
						this.inControlWithoutParens = global::Loreline.Internal.Lang.Runtime.toBool(@value);
						return @value;
					}
					
					
					case 2139336184:
					{
						this.inControl = global::Loreline.Internal.Lang.Runtime.toBool(@value);
						return @value;
					}
					
					
					case 1285965006:
					{
						this.currentPosOffset = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 1839230540:
					{
						this.posOffsets = ((global::Loreline.Internal.Root.Array) (@value) );
						return @value;
					}
					
					
					case 430862998:
					{
						this.inString = global::Loreline.Internal.Lang.Runtime.toBool(@value);
						return @value;
					}
					
					
					case 1735572730:
					{
						this.inComment = global::Loreline.Internal.Lang.Runtime.toBool(@value);
						return @value;
					}
					
					
					case 334695532:
					{
						this.indent = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 520590566:
					{
						this.length = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					case 1630079509:
					{
						this.lineOutput = ((global::Loreline.Internal.Root.StringBuf) (@value) );
						return @value;
					}
					
					
					case 209784577:
					{
						this.output = ((global::Loreline.Internal.Root.StringBuf) (@value) );
						return @value;
					}
					
					
					case 1042138122:
					{
						this.input = global::Loreline.Internal.Lang.Runtime.toString(@value);
						return @value;
					}
					
					
					case 1041537810:
					{
						this.index = ((int) (global::Loreline.Internal.Lang.Runtime.toInt(@value)) );
						return @value;
					}
					
					
					default:
					{
						return base.__hx_setField(field, hash, @value, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_getField(string field, int hash, bool throwErrors, bool isCheck, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 1932118984:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "error", 1932118984)) );
					}
					
					
					case 1058354978:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "_add", 1058354978)) );
					}
					
					
					case 430140201:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "stackPop", 430140201)) );
					}
					
					
					case 1432283458:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "stackPush", 1432283458)) );
					}
					
					
					case 1049493423:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "skipWhitespaceAndComments", 1049493423)) );
					}
					
					
					case 1913514584:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isLabelStart", 1913514584)) );
					}
					
					
					case 2096143673:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "inArrayBlock", 2096143673)) );
					}
					
					
					case 1687338537:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "inObjectBlock", 1687338537)) );
					}
					
					
					case 684564196:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "inStatementsBlock", 684564196)) );
					}
					
					
					case 903219737:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isAlphaNumeric", 903219737)) );
					}
					
					
					case 397157895:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isWhitespace", 397157895)) );
					}
					
					
					case 2090772433:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "endsWithArrayIndexable", 2090772433)) );
					}
					
					
					case 1745227786:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "endsWithControlKeyword", 1745227786)) );
					}
					
					
					case 273776389:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "followsWithIf", 273776389)) );
					}
					
					
					case 1365207622:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "nextLineIndentOffset", 1365207622)) );
					}
					
					
					case 873998019:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "endsOrFollowsWithChar", 873998019)) );
					}
					
					
					case 1660787710:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "followsWithChar", 1660787710)) );
					}
					
					
					case 499027028:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "endsWithChar", 499027028)) );
					}
					
					
					case 869186480:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processComment", 869186480)) );
					}
					
					
					case 1821243014:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isIdentifierPart", 1821243014)) );
					}
					
					
					case 1449108079:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isIdentifierStart", 1449108079)) );
					}
					
					
					case 1984794979:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "isDigit", 1984794979)) );
					}
					
					
					case 385314744:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processIdentifier", 385314744)) );
					}
					
					
					case 1241311189:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processFieldAccessInterpolation", 1241311189)) );
					}
					
					
					case 2023816419:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processComplexInterpolation", 2023816419)) );
					}
					
					
					case 1736653984:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processString", 1736653984)) );
					}
					
					
					case 634543899:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processInput", 634543899)) );
					}
					
					
					case 655239674:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "processedPosFromInputPos", 655239674)) );
					}
					
					
					case 145414650:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "inputPosFromProcessedPos", 145414650)) );
					}
					
					
					case 1603104271:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "toLorelinePos", 1603104271)) );
					}
					
					
					case 1900716655:
					{
						return ((global::Loreline.Internal.Lang.Function) (new global::Loreline.Internal.Lang.Closure(this, "process", 1900716655)) );
					}
					
					
					case 67856200:
					{
						return this.stack;
					}
					
					
					case 1229275964:
					{
						return this.indentStack;
					}
					
					
					case 933032312:
					{
						return this.indentLevel;
					}
					
					
					case 1197201529:
					{
						return this.inControlWithoutParens;
					}
					
					
					case 2139336184:
					{
						return this.inControl;
					}
					
					
					case 1285965006:
					{
						return this.currentPosOffset;
					}
					
					
					case 1839230540:
					{
						return this.posOffsets;
					}
					
					
					case 430862998:
					{
						return this.inString;
					}
					
					
					case 1735572730:
					{
						return this.inComment;
					}
					
					
					case 334695532:
					{
						return this.indent;
					}
					
					
					case 520590566:
					{
						return this.length;
					}
					
					
					case 1630079509:
					{
						return this.lineOutput;
					}
					
					
					case 209784577:
					{
						return this.output;
					}
					
					
					case 1042138122:
					{
						return this.input;
					}
					
					
					case 1041537810:
					{
						return this.index;
					}
					
					
					default:
					{
						return base.__hx_getField(field, hash, throwErrors, isCheck, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override double __hx_getField_f(string field, int hash, bool throwErrors, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 933032312:
					{
						return ((double) (this.indentLevel) );
					}
					
					
					case 1285965006:
					{
						return ((double) (this.currentPosOffset) );
					}
					
					
					case 334695532:
					{
						return ((double) (this.indent) );
					}
					
					
					case 520590566:
					{
						return ((double) (this.length) );
					}
					
					
					case 1041537810:
					{
						return ((double) (this.index) );
					}
					
					
					default:
					{
						return base.__hx_getField_f(field, hash, throwErrors, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_invokeField(string field, int hash, object[] dynargs) {
			unchecked {
				switch (hash) {
					case 1932118984:
					{
						this.error(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
						break;
					}
					
					
					case 1058354978:
					{
						this._add(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ), global::Loreline.Internal.Lang.Runtime.toBool(((object) (dynargs[1]) )));
						break;
					}
					
					
					case 430140201:
					{
						return this.stackPop();
					}
					
					
					case 1432283458:
					{
						this.stackPush(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
						break;
					}
					
					
					case 1049493423:
					{
						return this.skipWhitespaceAndComments(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 1913514584:
					{
						return this.isLabelStart(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 2096143673:
					{
						return this.inArrayBlock();
					}
					
					
					case 1687338537:
					{
						return this.inObjectBlock();
					}
					
					
					case 684564196:
					{
						return this.inStatementsBlock();
					}
					
					
					case 903219737:
					{
						return this.isAlphaNumeric(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 397157895:
					{
						return this.isWhitespace(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 2090772433:
					{
						return this.endsWithArrayIndexable(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
					}
					
					
					case 1745227786:
					{
						return this.endsWithControlKeyword(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[1]) ))) ));
					}
					
					
					case 273776389:
					{
						return this.followsWithIf(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 1365207622:
					{
						return this.nextLineIndentOffset(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[1]) ))) ));
					}
					
					
					case 873998019:
					{
						return this.endsOrFollowsWithChar(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[1]) ))) ), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[2]) ))) ), ( (( dynargs.Length > 3 )) ? (((object) (dynargs[3]) )) : (null) ));
					}
					
					
					case 1660787710:
					{
						return this.followsWithChar(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[1]) ))) ));
					}
					
					
					case 499027028:
					{
						return this.endsWithChar(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[1]) ))) ));
					}
					
					
					case 869186480:
					{
						this.processComment();
						break;
					}
					
					
					case 1821243014:
					{
						return this.isIdentifierPart(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 1449108079:
					{
						return this.isIdentifierStart(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 1984794979:
					{
						return this.isDigit(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 385314744:
					{
						this.processIdentifier();
						break;
					}
					
					
					case 1241311189:
					{
						this.processFieldAccessInterpolation();
						break;
					}
					
					
					case 2023816419:
					{
						this.processComplexInterpolation();
						break;
					}
					
					
					case 1736653984:
					{
						this.processString();
						break;
					}
					
					
					case 634543899:
					{
						this.processInput(( (( dynargs.Length > 0 )) ? (((object) (dynargs[0]) )) : (null) ));
						break;
					}
					
					
					case 655239674:
					{
						return this.processedPosFromInputPos(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 145414650:
					{
						return this.inputPosFromProcessedPos(((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[0]) ))) ));
					}
					
					
					case 1603104271:
					{
						return this.toLorelinePos(((global::Loreline.Runtime.Position) (((object) (dynargs[0]) )) ), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[1]) ))) ), ((int) (global::Loreline.Internal.Lang.Runtime.toInt(((object) (dynargs[2]) ))) ));
					}
					
					
					case 1900716655:
					{
						return this.process(global::Loreline.Internal.Lang.Runtime.toString(((object) (dynargs[0]) )));
					}
					
					
					default:
					{
						return base.__hx_invokeField(field, hash, dynargs);
					}
					
				}
				
				return null;
			}
		}
		
		
		public override void __hx_getFields(global::Loreline.Internal.Root.Array baseArr) {
			baseArr.push("stack");
			baseArr.push("indentStack");
			baseArr.push("indentLevel");
			baseArr.push("inControlWithoutParens");
			baseArr.push("inControl");
			baseArr.push("currentPosOffset");
			baseArr.push("posOffsets");
			baseArr.push("inString");
			baseArr.push("inComment");
			baseArr.push("indent");
			baseArr.push("length");
			baseArr.push("lineOutput");
			baseArr.push("output");
			baseArr.push("input");
			baseArr.push("index");
			base.__hx_getFields(baseArr);
		}
		
		
	}
}


